---
title : "생성자와 this"
categories : JAVA
date : "2021-01-31"
---

[9번째 포스트]

그동안 정리하면서 생성자가 종종 언급되었다. 이번 포스트에서는 생성자를 정리하고, 생성자에 자주 사용되는 this 키워드를 정리하겠다.



클래스를 인스턴스화 할때,

```java
Car c1 = new Car();
```

Car() 이부분이 생성자라고 했었다. 앞에 new연산자는 '새로운' 이런 뜻을 가지고 있으니까

**새로운 생성자를 만든다** 이렇게 해석할 수 있다.

모든 클래스는 인스턴스화할때 생성자를 사용한다.

생성자는 객체의 기본 세팅이라고 생각하면 된다.



### 생성자 만들기

```java
public class Car {
    String name;
    int number;
    
    public Car(String name) {
        this.name = name; //this는 자기자신 객체를 나타내는 키워드
    } //생성자1
    
    public Car(String name, int number) {
        this.name = name;
        this.number = number;
    } //생성자2
    
    public Car() {
        this("이름없음",0); //this() : 자신의 생성자 참조. 여기서는 생성자2가 될 것.
        System.out.println("car의 기본생성자입니다.");
    } //기본생성자
}
```

```java
public class CarExam {
    public static void main(String[] args) {
        Car c = new c("소방차"); 
        //생성자1을 이용하여 Car객체 c의 name필드에 "소방차" 값을 넣는다.
        
        Car c2 = new c2("경찰차", 1234);
        //생성자2를 이용하여 c2의 name,number필드에 값을 넣는다.
        
        Car c3 = new c3();
        //기본생성자를 이용하여 생성자2 실행
        
        System.out.println(c2.name) //"경찰차" 출력
    }
}
```

* 위의 코드는 생성자를 클래스 내부에 만들어서 이용하는 코드이다.

  생성자를 살펴보면, 일단 리턴타입이 없다. 리턴값이 항상 없기 때문이다.

* this라는 키워드가 등장했는데, **this키워드는 객체 자기자신을 나타내는 키워드이다.**

  this는 필드, 메소드, 생성자 모두 사용 가능하다.

  필드나 메소드는 this.필드명 or this.메소드명()으로

  생성자는 this()로 참조한다.

* 생성자1을 이용해서 인스턴스화될 때, Car클래스의 name필드에 매개변수 name을 입력받아서 값을 집어넣는다.

  따라서 메인메소드에서 보면 c("소방차") 로 객체에 값을 대입하는 것을 볼 수 있다.

  이렇게 생성자를 이용하면 객체의 기본 세팅이 가능하다. 

  이제 생성자1을 이용하면 기본적으로 Car객체가 name속성을 갖게 된다.

  생성자2를 이용해서도 마찬가지로 사용할 수 있다.

* 근데, this키워드를 굳이 쓰는 이유는 무엇인가?

  this를 안쓰면 name = name이라고 기입된다. 

  이럴 때 컴파일러는 왼쪽 변수를 객체의 name이 아닌, 매개변수 name으로 인식한다.

  그럼 매개변수 name을 n으로 바꾸면 되지 않는가?

  그건 가능한 경우지만, 코드를 해석하는데 있어서 불편함이 초래된다.

  매개변수와 필드의 이름을 같게 해야 어떤 필드에 입력하는지 해석이 쉽게 된다.

  따라서, 객체의 name필드와 매개변수 name을 구분짓기 위해서 사용한다고 생각하면 된다.

* 지난 포스트들에는 인스턴스화할때 생성자 부분에 괄호가 비어있었다.

  생성자가 없는 클래스를 인스턴스화하면 컴파일러가 자동으로 생성자를 생성하는데, 

  그것을 기본 생성자라 한다.

  만약 생성자가 있는 클래스라면 , 기본생성자를 가질 수 없다. 

  예를 들어 위의 코드에서 만약 Car클래스가 생성자1, 생성자2만 있다면 인스턴스화할때 Car c = new Car(); 이런 식으로 사용할 수 없다.

  하지만 사용자가 직접 기본생성자를 만들 수 있다. 위의 코드를 참고하자.

  번거롭게 일일이 생성자를 사용하고 싶지 않을때, 이렇게 임의로 기본 생성자를 만들 수도 있다.